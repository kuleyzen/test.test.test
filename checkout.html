<!DOCTYPE html>
<html lang="tr">
<head>
  <!-- Seitentitel, Meta-Angaben und eingebettetes CSS -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuleyzen SipariÅŸ OnayÄ±</title>
  <link rel="stylesheet" href="style.css" />
<!-- Eingebettetes CSS fÃ¼r Layout und Design -->   
<style>
/* ===================== */
/* ğŸŒ¿ BASIS-STYLES & VARIABLEN */
/* ===================== */
:root {
  --primary: #607744;      /* Hauptfarbe (OlivgrÃ¼n) */
  --primary-dark: #4e6137; /* Dunklere Akzentfarbe */
  --light-bg: #fafaf5;     /* Seitenhintergrund */
  --text: #2f2f2f;         /* Haupttextfarbe */
  --white: #ffffff;        /* WeiÃŸ fÃ¼r Kontraste */
}

body {
  font-family: 'Segoe UI', sans-serif;
  background-color: var(--light-bg);
  color: var(--text);
  margin: 0;
  padding: 0 0 80px; /* Platz fÃ¼r Bottom-Nav */
}

main {
  padding: 40px 20px;
  max-width: 1000px;
  margin: 0 auto;
}

/* ===================== */
/* ğŸ–¼ï¸ BILD-TEXT-BLOECKE */
/* ===================== */
.section {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  margin-bottom: 60px;
}

.section img {
  flex: 1 1 300px;
  max-width: 300px;
  margin-right: 30px;
  border-radius: 8px;
}

.section div {
  flex: 2 1 400px;
}

/* ===================== */
/* ğŸ§­ NAVIGATION */
/* ===================== */
.main-nav {
  list-style: none;
  margin: 0;
  padding: 0 0 0 10px;
  display: flex;
  justify-content: flex-start;
  flex-wrap: wrap;
  background-color: var(--primary);
}

.main-nav > li {
  position: relative;
}

.main-nav > li > a {
  display: block;
  padding: 1em 1.5em;
  color: var(--white);
  text-decoration: none;
  font-weight: bold;
}

.main-nav > li > a:hover {
  background-color: var(--primary-dark);
}

/* ===================== */
/* ğŸ—‚ UNTERMENÃœS (DESKTOP) */
/* ===================== */
.submenu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: var(--primary);
  z-index: 9999;
  min-width: 180px;
}

.has-submenu:hover .submenu {
  display: block;
}

.submenu li a {
  display: block;
  padding: 0.75em 1.5em;
  color: var(--white);
  text-decoration: none;
  background-color: var(--primary);
  line-height: 1.4;
}

.submenu li a:hover {
  background-color: var(--primary-dark);
}

/* ===================== */
/* ğŸ“± MOBILE-STYLES (max-width: 768px) */
/* ===================== */
@media (max-width: 768px) {
  /* Bild-Text-BlÃ¶cke anpassen */
  .section {
    flex-direction: column;
  }
  
  .section img {
    margin: 0 0 20px 0;
    max-width: 100%;
  }

  /* Navigation als ScrollmenÃ¼ */
  .main-nav {
    flex-wrap: nowrap;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    padding: 0.5em 0 0.5em 10px;
  }

  .main-nav > li {
    flex: 0 0 auto;
    scroll-snap-align: start;
  }

  .main-nav > li > a {
    white-space: nowrap;
  }

  /* UntermenÃ¼s anpassen */
  .submenu {
    position: static;
    margin: 0 15px;
  }
}

/* ===================== */
/* ğŸ® BOTTOM-NAVIGATION (MOBILE) */
/* ===================== */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: var(--primary);
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 10px;
  z-index: 999;
}

.bottom-nav a,
.bottom-nav button {
  background-color: var(--primary-dark);
  color: var(--white);
  padding: 12px;
  border-radius: 50%;
  font-size: 1.3em;
  text-align: center;
  border: none;
  text-decoration: none;
  transition: all 0.3s;
}

.bottom-nav a:hover,
.bottom-nav button:hover {
  background-color: #eef1ea;
  color: var(--text);
  transform: scale(1.1);
}

/* ===================== */
/* ğŸ–¥ï¸ DESKTOP-ONLY ELEMENTE */
/* ===================== */
@media (min-width: 769px) {
  /* Mobile-Komponenten ausblenden */
  .bottom-nav,
  .bottom-grid,
  .mobile-kacheln,
  #mini-cart-mobile,
  #cart-overlay-mobile {
    display: none !important;
  }
}

/* ===================== */
/* ğŸ›’ WARENKORB-SYSTEM */
/* ===================== */
/* Desktop-Warenkorb */
#mini-cart-desktop {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--primary);
  color: var(--white);
  padding: 10px 15px;
  border-radius: 30px;
  cursor: pointer;
  z-index: 9999;
}

#cart-overlay-desktop {
  position: fixed;
  top: 60px;
  right: 20px;
  width: 300px;
  background: var(--white);
  border: 2px solid var(--primary);
  padding: 20px;
  border-radius: 12px;
  z-index: 998;
}

/* Mobile-Warenkorb */
#cart-overlay-mobile {
  position: fixed;
  bottom: 70px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  background: var(--white);
  border: 2px solid var(--primary);
  padding: 20px;
  border-radius: 12px;
  z-index: 998;
}

/* Allgemeine Warenkorb-Styles */
.checkout-btn {
  display: block;
  width: 100%;
  background-color: var(--primary);
  color: var(--white);
  padding: 12px;
  text-align: center;
  text-decoration: none;
  font-weight: bold;
  border-radius: 8px;
  margin-top: 20px;
  box-sizing: border-box;
  transition: background-color 0.3s ease;
}

.checkout-btn:hover {
  background-color: var(--primary-dark);
  color: var(--white);
}

/* ===================== */
/* ğŸ–¼ï¸ BILDER & MEDIA */
/* ===================== */
img {
  width: 100%;
  max-width: 600px;
  margin: 20px 0;
  border-radius: 8px;
}

/* ğŸ“‹ Stil fÃ¼r die Warenkorb-Tabelle im Checkout */
table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 30px;
  background-color: #f9f9f4;
  border: 1px solid #ccc;
  border-radius: 8px;
  overflow: hidden;
}

th {
  background-color: #607744;
  color: white;
  text-align: left;
  padding: 12px;
  font-weight: bold;
  font-size: 1.05em;
}

td {
  padding: 12px;
  border-top: 1px solid #ddd;
  font-size: 1em;
}

tr:last-child td {
  border-bottom: none;
}

tfoot td {
  font-weight: bold;
  background-color: #eef1ea;
  border-top: 2px solid #607744;
}
/* ğŸ§¾ Stil fÃ¼r das Formular */
form {
      background-color: #f9f9f4;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
      font-family: sans-serif;
    }

    form label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #4a5534;
    }

    form input,
    form textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1em;
      background-color: #fff;
    }

    form button {
      background-color: #607744;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
    }

    form button:hover {
      background-color: #4e6137;
    }
  </style>
</head>
<body>
 
  <!-- ğŸ›’ Desktop-Warenkorb-Icon -->
<div id="mini-cart-desktop" onclick="toggleCart()">ğŸ›’ <span id="cart-count">0</span></div>



<!-- ğŸ“¦ Overlay mit Warenkorb-Inhalt -->
<!-- ğŸ“¦ Desktop-Warenkorb -->
<div id="cart-overlay-desktop" style="display: none;">
  <h4>Sepetiniz</h4>
  <ul id="cart-items-desktop"></ul>
  <p><strong>Toplam:</strong> <span id="cart-total">0</span> TL</p>
  <a href="checkout.html" class="checkout-btn">SipariÅŸ Ver</a>
</div>
<!-- ğŸ“± Mobil-Warenkorb -->
<div id="cart-overlay-mobile" class="cart-overlay" style="display: none;">
  <h4>Sepetiniz</h4>
  <ul id="cart-items-mobile"></ul>
  <p><strong>Toplam:</strong> <span id="cart-total-mobile">0</span> TL</p>
  <a href="checkout.html" class="checkout-btn">SipariÅŸ Ver</a>
</div>
<!-- Hauptnavigation -->
<nav>
  <ul class="main-nav">
    <li><a href="index.html">Anasayfa</a></li>
    <li><a href="hakkimizda.html">HakkÄ±mÄ±zda</a></li>
    <li><a href="urunler.html">ÃœrÃ¼nler</a></li>
    <li class="has-submenu">
      <a href="urunlerimizin-uretimi.html">Ãœretim SÃ¼reci</a>
      <ul class="submenu">
        <li><a href="organik-tarim.html">Organik TarÄ±m</a></li>
        <li><a href="zeytin-hakkinda-bilgi.html">Zeytin HakkÄ±nda</a></li>
        <li><a href="nar-hakkinda-bilgi.html">Nar EkÅŸisi</a></li>
      </ul>
    </li>
    <li><a href="sss.html">SÄ±kÃ§a Sorulan Sorular</a></li>
    <li><a href="iletisim.html">Ä°letiÅŸim</a></li>
  </ul>
</nav>

  <main>
    <h2>Sepetiniz</h2>
    <table>
      <thead>
        <tr>
          <th>ÃœrÃ¼n</th>
          <th>Adet</th>
          <th>Birim Fiyat</th>
          <th>Toplam</th>
        </tr>
      </thead>
      <tbody id="checkout-items"></tbody>
      <tfoot>
        <tr>
          <td colspan="3"><strong>Genel Toplam</strong></td>
          <td><strong><span id="checkout-total">0</span> TL</strong></td>
        </tr>
      </tfoot>
    </table>

    <h2>Ä°letiÅŸim Bilgileriniz</h2>
    <form onsubmit="submitOrder(event)">
      <label for="name">AdÄ±nÄ±z</label>
      <input type="text" id="name" required />

      <label for="note">Notunuz</label>
      <textarea id="note" rows="4" placeholder="Adres, teslimat notu veya baÅŸka bir bilgi..."></textarea>

      <button type="submit">WhatsApp ile SipariÅŸi GÃ¶nder</button>
    </form>
  </main>
  <!-- ğŸ® Vereinfachtes Bottom-MenÃ¼ (mobil) -->
<div class="bottom-nav">
  <a href="iletisim.html" title="Ä°letiÅŸim">ğŸ“©</a>
  <button onclick="toggleMenu()">â˜°</button>
  <button id="mini-cart-mobile" onclick="toggleCart()" title="Sepetiniz">ğŸ›’<span id="cart-count-mobile">0</span></button>
</div>
  
  <!-- ğŸ“¦ Mobile KachelmenÃ¼ -->
  <div class="mobile-kacheln" id="mobileKacheln">
    <a class="box" href="index.html">Anasayfa</a>
    <a class="box" href="hakkimizda.html">HakkÄ±mÄ±zda</a>
    <a class="box" href="urunler.html">ÃœrÃ¼nler</a>
    <a class="box" href="urunlerimizin-uretimi.html" onclick="toggleSubKacheln(event)">Ãœretim SÃ¼reci</a>
    <!-- ğŸ‘‡ UntermenÃ¼: wird per JS eingeblendet -->
    <div id="subKacheln" style="display:none; margin-top: 0.5em;">
      <a class="box" href="organik-tarim.html">Organik TarÄ±m</a>
      <a class="box" href="zeytin-hakkinda-bilgi.html">Zeytin</a>
      <a class="box" href="nar-hakkinda-bilgi.html">Nar EkÅŸisi</a>
    </div>
    <a class="box" href="sss.html">SÄ±kÃ§a Sorulan Sorular</a>
  </div>
  
  <!-- FuÃŸzeile mit Copyright -->   
  <footer style="text-align: center; padding: 20px; background-color: #4a5534; color: white;">
    <p>Â© 2025 Kuleyzen Aile Ã‡iftliÄŸi â€“ TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
    <p>Son gÃ¼ncelleme: <span id="last-updated">yÃ¼kleniyor...</span></p>
  </footer>
  
  
  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://kuleyzen.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  
  <!-- JavaScript letztes update github -->
  <script>
    fetch("https://api.github.com/repos/kuleyzen/test.test.test/commits/main")
      .then(res => {
        if (!res.ok) throw new Error("Veri alÄ±namadÄ±");
        return res.json();
      })
      .then(data => {
        const date = new Date(data.commit.author.date);
        const formatted = date.toLocaleString("tr-TR", {
          dateStyle: "short",
          timeStyle: "short"
        });
        document.getElementById("last-updated").textContent = formatted;
      })
      .catch(err => {
        console.error("Son gÃ¼ncelleme alÄ±namadÄ±:", err);
        document.getElementById("last-updated").textContent = "bilgi alÄ±namadÄ±";
      });
  </script>
  <!-- ğŸ“œ Bottom-Navigation Logik -->
  <script>
    function goTo(url) {
      window.location.href = url;
    }
  
    function toggleMenu() {
      const menu = document.getElementById("mobileKacheln");
      const submenu = document.getElementById("subKacheln");
      if (menu.style.display === "block") {
        menu.style.display = "none";
        submenu.style.display = "none";
      } else {
        menu.style.display = "block";
      }
    }
  
    function toggleSubKacheln(event) {
      event.preventDefault();
      const sub = document.getElementById("subKacheln");
      sub.style.display = sub.style.display === "block" ? "none" : "block";
    }
  </script>
 

  <!-- ğŸ§  Kuleyzen Checkout-Logik (MengenÃ¤nderung + WhatsApp + Reset) -->
<script>
    // ğŸ§º 1. Warenkorb laden (oder leeren Korb starten)
    let cart = JSON.parse(localStorage.getItem("kuleyzen_cart")) || [];
  
    // ğŸ”„ 2. Checkout-Tabelle im <main> anzeigen
    function renderCheckout() {
      const tbody = document.getElementById("checkout-items");
      const totalEl = document.getElementById("checkout-total");
      let total = 0;
      tbody.innerHTML = "";
  
      cart.forEach(item => {
        const itemTotal = item.price * item.qty;
        total += itemTotal;
  
        const row = document.createElement("tr");
        const nameTd = document.createElement("td");
nameTd.textContent = item.name;

const qtyTd = document.createElement("td");
const minusBtn = document.createElement("button");
minusBtn.textContent = "â–";
minusBtn.onclick = () => changeQty(item.name, -1);

const qtyText = document.createTextNode(` ${item.qty} `);

const plusBtn = document.createElement("button");
plusBtn.textContent = "â•";
plusBtn.onclick = () => changeQty(item.name, 1);

qtyTd.appendChild(minusBtn);
qtyTd.appendChild(qtyText);
qtyTd.appendChild(plusBtn);

const priceTd = document.createElement("td");
priceTd.textContent = `${item.price} TL`;

const totalTd = document.createElement("td");
totalTd.textContent = `${itemTotal} TL`;
const deleteBtn = document.createElement("button");
deleteBtn.textContent = "ğŸ—‘ï¸";
deleteBtn.title = "ÃœrÃ¼nÃ¼ sil";
deleteBtn.onclick = () => removeItem(item.name);
totalTd.appendChild(deleteBtn);

row.appendChild(nameTd);
row.appendChild(qtyTd);
row.appendChild(priceTd);
row.appendChild(totalTd);
        tbody.appendChild(row);
      });
  
      totalEl.textContent = total;
      updateCartDisplay(); // synchronisiere Mini-Overlay
    }
  
    // â•â– 3. Menge anpassen
    function changeQty(name, delta) {
      const item = cart.find(p => p.name === name);
      if (!item) return;
  
      item.qty += delta;
      if (item.qty <= 0) {
        cart = cart.filter(p => p.name !== name);
      }
  
      saveCart();
      renderCheckout();
    }
  
    // âŒ 4. Einzelnes Produkt lÃ¶schen
    function removeItem(name) {
      cart = cart.filter(p => p.name !== name);
      saveCart();
      renderCheckout();
    }
  
    // ğŸ’¾ 5. Warenkorb speichern & Overlay aktualisieren
    function saveCart() {
      localStorage.setItem("kuleyzen_cart", JSON.stringify(cart));
      updateCartDisplay();
    }
  
    // ğŸŸ© 6. Mini-Warenkorb-Overlay aktualisieren
    function updateCartDisplay() {
      const count = cart.reduce((sum, item) => sum + item.qty, 0);
      const total = cart.reduce((sum, item) => sum + item.qty * item.price, 0);
  
      const countEl = document.getElementById("cart-count");
      const countMobile = document.getElementById("cart-count-mobile");
      const totalEl = document.getElementById("cart-total");
      const listEl = document.getElementById("cart-items");
  
      if (countEl) countEl.textContent = count;
      if (countMobile) countMobile.textContent = count;
      if (totalEl) totalEl.textContent = total;
  
      if (listEl) {
        listEl.innerHTML = "";
        cart.forEach(item => {
          const li = document.createElement("li");
          li.textContent = `${item.name} x${item.qty} â€“ ${item.price * item.qty} TL`;
          listEl.appendChild(li);
        });
      }
    }
  
   // ğŸ§º Warenkorb ein- und ausblenden
   function toggleCart() {
    const overlayDesktop = document.getElementById("cart-overlay-desktop");
    const overlayMobile = document.getElementById("cart-overlay-mobile");
    const overlayNeutral = document.getElementById("cart-overlay");
  
    [overlayDesktop, overlayMobile, overlayNeutral].forEach(overlay => {
      if (overlay) {
        if (overlay.style.display === "none" || overlay.style.display === "") {
          overlay.style.display = "block";
        } else {
          overlay.style.display = "none";
        }
      }
    });
  }

  // ğŸ“¦ Seite geladen â†’ Warenkorb-Anzeige aktualisieren
  document.addEventListener("DOMContentLoaded", updateCartDisplay);

  
    // âœ… 8. Bestellung via WhatsApp senden und Warenkorb leeren
    function submitOrder(event) {
      event.preventDefault();
  
      const name = document.getElementById("name").value;
      //"const phone = document.getElementById("phone").value;   (momentan inaktiv wird spÃ¤ter entfernt!!!)//
      const note = document.getElementById("note").value;
  
      let message = `ğŸ“¦ Yeni SipariÅŸ / Kuleyzen\n\nğŸ›ï¸ ÃœrÃ¼nler:\n`;
      cart.forEach(item => {
        message += `â€¢ ${item.name} x${item.qty} â†’ ${item.price * item.qty} TL\n`;
      });
  
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      message += `\nğŸ’° Toplam: ${total} TL\n\n`;
      message += `ğŸ‘¤ Ad: ${name}`;
      if (note) message += `\nğŸ“ Not: ${note}`;
  
      const url = `https://wa.me/905362419158?text=${encodeURIComponent(message)}`;
  
      // ğŸ§¹ Nach Versand: LocalStorage leeren und Seite zurÃ¼cksetzen
      localStorage.removeItem("kuleyzen_cart");
      cart = [];
      renderCheckout();
  
      window.open(url, "_blank");
    }
  
    // â³ 9. Initialisierung nach Seitenladezeitpunkt
    document.addEventListener("DOMContentLoaded", renderCheckout);
  </script>
</body>
</html>
