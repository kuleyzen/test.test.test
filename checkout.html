<!DOCTYPE html>
<html lang="tr">
<head>
  <!-- Seitentitel, Meta-Angaben und eingebettetes CSS -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuleyzen Sipariş Onayı</title>
  <link rel="stylesheet" href="style.css" />
<!-- Eingebettetes CSS für Layout und Design -->   
<style>
  /* 🌿 Grundlegende Layout- und Farbstile */
  body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fafaf5;
      color: #2f2f2f;
      margin: 0;
      padding: 0;
    }
/* 📄 Hauptbereich-Layout */    
    main {
      padding: 40px 20px;
      max-width: 1000px;
      margin: auto;
    }
/* 🖼️ Flexbox für Sektionen mit Bild und Text */    
    .section {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      margin-bottom: 60px;
    }
    .section img {
      flex: 1 1 300px;
      max-width: 300px;
      margin-right: 30px;
      border-radius: 8px;
    }
    .section div {
      flex: 2 1 400px;
    }
/* 🧱 Überschriften-Layout */    
    h2, h3 {
      margin-top: 40px;
    }
/* 📱 Responsive Anpassung für kleine Bildschirme */    
    @media (max-width: 768px) {
      .section {
        flex-direction: column;
      }
      .section img {
        margin: 0 0 20px 0;
        max-width: 100%;
      }
    }
/* 📷 Allgemeine Bildformatierung */    
   img {
      width: 100%;
      max-width: 600px;
      margin: 20px 0;
      border-radius: 8px;
    }
  
/* 🔝 Navigationsleiste (Desktop) */    
  .main-nav {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    background-color: #607744;
  }

  .main-nav > li {
    position: relative;
  }

  .main-nav > li > a {
    display: block;
    padding: 1em 1.5em;
    color: white;
    text-decoration: none;
    font-weight: bold;
  }

  .main-nav > li > a:hover {
    background-color: #4e6137;
  }
/* 📂 Submenü (Desktop Hover) */
  .submenu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background-color: #607744;
    z-index: 9999;
    min-width: 180px;
  }

  .has-submenu:hover .submenu {
    display: block;
  }
/* 🛠️ Submenü Hintergrundfarbe und Hover-Korrektur */
.submenu li a {
  display: block;
  padding: 0.75em 1.5em;
  color: white;
  text-decoration: none;
  background-color: #607744; /* ← das kann fehlen */
  line-height: 1.4; /* optional: reduziert unnötige Höhe */
}

.submenu li a:hover {
  background-color: #4e6137;
}

/* 🖱️ Submenü Hover-Effekt (nur Desktop, verhindert Zeilenverbreiterung) */
@media (min-width: 769px) {
  .has-submenu {
    position: relative;
  }
  .main-nav > li {
    position: relative;
  }
  .main-nav > li > a {
    line-height: 1.2;
  }

  .submenu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: #607744;
    display: none;
    min-width: 180px;
    z-index: 999;
  }

  .has-submenu:hover > .submenu {
    display: block;
  }

  .submenu li a {
    display: block;
    padding: 0.75em 1.5em;
    color: white;
    background-color: #607744;
    text-decoration: none;
    line-height: 1.4;
  }

  .submenu li a:hover {
    background-color: #4e6137;
  }
}
   
    
 /* 📂 Submenü im mobilen Layout */
 @media (max-width: 768px) {
  .submenu {
    position: static;
    display: none;
    padding-left: 2em;
  }

  .has-submenu:hover .submenu {
    display: block;
  }
}
   
  
/* 📵 Bottom-Menü nur auf Mobilgeräten anzeigen */
@media (min-width: 769px) {
  .bottom-nav {
    display: none;
  }
}
/* 🎮 Nintendo-Style Bottom Navigation (Mobil) */
.bottom-grid {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #607744;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
  gap: 2px;
  padding: 10px;
  z-index: 999;
}

.bottom-grid button {
  background-color: #4e6137;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px 5px;
  font-size: 1.3em;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: background 0.3s ease, transform 0.2s ease;
}

.bottom-grid button span {
  font-size: 0.8em;
  margin-top: 5px;
}

.bottom-grid button:hover {
  background-color: #eef1ea;
  color: #2f2f2f;
  transform: scale(1.05);
}

/* 📵 Nur auf Mobilgeräten anzeigen */
@media (min-width: 769px) {
  .bottom-grid {
    display: none;
  }
}
/* 📜 Hauptnavigation: mobil horizontal scrollfähig */
@media (max-width: 768px) {
  .main-nav {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    white-space: nowrap;
    padding: 0.5em 0;
    scrollbar-width: none; /* Firefox */
    background-color: #607744;
  }

  .main-nav::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }

  .main-nav > li {
    display: inline-block;
    margin: 0;
    flex: 0 0 auto;  /* 👈 Ergänzt */
    scroll-snap-align: start;
  }

  .main-nav > li > a {
    white-space: nowrap;
    display: inline-block;  /* 👈 Ergänzt */
    padding: 1em 1.2em;
  }
}
/* 🎮 Vereinfachte Bottom Navigation (mobil): Nur 3 Felder */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: #607744;
  display: flex;
  justify-content: space-around; /* sorgt für gleichmäßige Verteilung */
  align-items: center;
  padding: 10px;
  z-index: 999;
}


.bottom-nav a, 
.bottom-nav button 
#mini-cart-mobile{
  background-color: #4e6137;
  color: white;
  padding: 12px;  /* Padding leicht erhöht, um Symmetrie zu gewährleisten */
 
  border-radius: 50%;
  font-size: 1.3em;
  text-align: center;
  border: none;
  text-decoration: none;
  transition: background 0.3s, transform 0.3s;
 }

.bottom-nav a:hover, 
.bottom-nav button:hover 
#mini-cart-mobile{
  background-color: #eef1ea;
  transform: scale(1.1);
  color: #2f2f2f;
}

/* 📱 Mobil: Warenkorb-Button sichtbar */
@media (max-width: 768px) {
  #mini-cart-mobile {
    display: block;
  }
}

/* 📵 Bottom-Menü nur auf Mobil anzeigen */
@media (min-width: 769px) {
  .bottom-nav {
    display: none;
  }
}
/* 🦶 Platz für Footer sichtbar unter Bottom-Menü */
body {
  padding-bottom: 80px; /* Genug Platz für .bottom-nav */
}
/* 🎮 Vereinfachte Bottom Navigation (mobil): Nur 3 Felder */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: #607744;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 10px;
  z-index: 999;
}

.bottom-nav a,
.bottom-nav button {
  background-color: #4e6137;
  color: white;
  padding: 12px;
  border-radius: 50%;
  font-size: 1.3em;
  text-align: center;
  border: none;
  text-decoration: none;
  transition: background 0.3s, transform 0.3s;
}

.bottom-nav a:hover,
.bottom-nav button:hover {
  background-color: #eef1ea;
  transform: scale(1.1);
  color: #2f2f2f;
}

/* 👀 Nur auf Mobilgeräten anzeigen */
@media (min-width: 769px) {
  .bottom-nav,
  .mobile-kacheln {
    display: none;
  }
}

/* 📦 Kachelmenü bei Klick auf Hamburger */
.mobile-kacheln {
  display: none;
  position: fixed;
  bottom: 60px;
  left: 0;
  width: 100%;
  background-color: #f5f5f0;
  padding: 1em;
  z-index: 998;
  box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);
}

.mobile-kacheln .box {
  display: inline-block;
  background: #fff;
  padding: 0.8em 1em;
  margin: 0.3em;
  border-radius: 10px;
  border: 1px solid #ccc;
  font-size: 0.95em;
  font-weight: bold;
  color: #2f2f2f;
  text-decoration: none;
}
/* 🛒 Desktop-Icon – Nur auf Desktop anzeigen */
@media (min-width: 769px) {
  #mini-cart-desktop {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #607744;
    color: white;
    padding: 10px 15px;
    border-radius: 30px;
    cursor: pointer;
    z-index: 9999;
    display: block;
  }
}

@media (max-width: 768px) {
  #mini-cart-desktop {
    display: none !important;
  }
}

/* 💻 Desktop-Warenkorb */
#cart-overlay-desktop {
  position: fixed;
  top: 60px;
  right: 20px;
  width: 300px;
  background: white;
  border: 2px solid #607744;
  padding: 20px;
  border-radius: 12px;
  z-index: 998;
}

@media (max-width: 768px) {
  #cart-overlay-desktop {
    display: none !important;
  }
}

/* 📱 Mobil-Warenkorb */
#cart-overlay-mobile {
  position: fixed;
  bottom: 70px; /* über dem Bottom-Menü */
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  background: white;
  border: 2px solid #607744;
  padding: 20px;
  border-radius: 12px;
  z-index: 998;
}

@media (min-width: 769px) {
  #cart-overlay-mobile {
    display: none !important;
  }
}

/* 📱 Anzeige je nach Gerät */
@media (max-width: 768px) {
  #mini-cart-desktop {
    display: none;
  }
  #mini-cart-mobile {
    display: block;
  }
}
table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }
    form label {
      display: block;
      margin-top: 20px;
      font-weight: bold;
    }
    form input, form textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-top: 5px;
    }
    button[type="submit"] {
      margin-top: 20px;
      background-color: #607744;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
    }
    button[type="submit"]:hover {
      background-color: #4e6137;
    }
  </style>
</head>
<body>
 
  <!-- 🛒 Desktop-Warenkorb-Icon -->
<div id="mini-cart-desktop" onclick="toggleCart()">🛒 <span id="cart-count">0</span></div>



<!-- 📦 Overlay mit Warenkorb-Inhalt -->
<!-- 📦 Desktop-Warenkorb -->
<div id="cart-overlay-desktop" style="display: none;">
  <h4>Sepetiniz</h4>
  <ul id="cart-items-desktop"></ul>
  <p><strong>Toplam:</strong> <span id="cart-total">0</span> TL</p>
  <a href="checkout.html">Ödeme Sayfası</a>
</div>
<!-- 📱 Mobil-Warenkorb -->
<div id="cart-overlay-mobile" class="cart-overlay" style="display: none;">
  <h4>Sepetiniz</h4>
  <ul id="cart-items-mobile"></ul>
  <p><strong>Toplam:</strong> <span id="cart-total-mobile">0</span> TL</p>
  <a href="checkout.html">Ödeme Sayfası</a>
</div>
<!-- Hauptnavigation -->
<nav>
  <ul class="main-nav">
    <li><a href="index.html">Anasayfa</a></li>
    <li><a href="hakkimizda.html">Hakkımızda</a></li>
    <li><a href="urunler.html">Ürünler</a></li>
    <li class="has-submenu">
      <a href="urunlerimizin-uretimi.html">Üretim Süreci</a>
      <ul class="submenu">
        <li><a href="organik-tarim.html">Organik Tarım</a></li>
        <li><a href="zeytin-hakkinda-bilgi.html">Zeytin Hakkında</a></li>
        <li><a href="nar-hakkinda-bilgi.html">Nar Ekşisi</a></li>
      </ul>
    </li>
    <li><a href="sss.html">Sıkça Sorulan Sorular</a></li>
    <li><a href="iletisim.html">İletişim</a></li>
  </ul>
</nav>

  <main>
    <h2>Sepetiniz</h2>
    <table>
      <thead>
        <tr>
          <th>Ürün</th>
          <th>Adet</th>
          <th>Birim Fiyat</th>
          <th>Toplam</th>
        </tr>
      </thead>
      <tbody id="checkout-items"></tbody>
      <tfoot>
        <tr>
          <td colspan="3"><strong>Genel Toplam</strong></td>
          <td><strong><span id="checkout-total">0</span> TL</strong></td>
        </tr>
      </tfoot>
    </table>

    <h2>İletişim Bilgileriniz</h2>
    <form onsubmit="submitOrder(event)">
      <label for="name">Adınız</label>
      <input type="text" id="name" required />

      <label for="note">Notunuz</label>
      <textarea id="note" rows="4" placeholder="Adres, teslimat notu veya başka bir bilgi..."></textarea>

      <button type="submit">WhatsApp ile Siparişi Gönder</button>
    </form>
  </main>
  <!-- 🎮 Vereinfachtes Bottom-Menü (mobil) -->
<div class="bottom-nav">
  <a href="iletisim.html" title="İletişim">📩</a>
  <button onclick="toggleMenu()">☰</button>
  <button id="mini-cart-mobile" onclick="toggleCart()" title="Sepetiniz">🛒<span id="cart-count-mobile">0</span></button>
</div>
  
  <!-- 📦 Mobile Kachelmenü -->
  <div class="mobile-kacheln" id="mobileKacheln">
    <a class="box" href="index.html">Anasayfa</a>
    <a class="box" href="hakkimizda.html">Hakkımızda</a>
    <a class="box" href="urunler.html">Ürünler</a>
    <a class="box" href="urunlerimizin-uretimi.html" onclick="toggleSubKacheln(event)">Üretim Süreci</a>
    <!-- 👇 Untermenü: wird per JS eingeblendet -->
    <div id="subKacheln" style="display:none; margin-top: 0.5em;">
      <a class="box" href="organik-tarim.html">Organik Tarım</a>
      <a class="box" href="zeytin-hakkinda-bilgi.html">Zeytin</a>
      <a class="box" href="nar-hakkinda-bilgi.html">Nar Ekşisi</a>
    </div>
    <a class="box" href="sss.html">Sıkça Sorulan Sorular</a>
  </div>
  <!-- 📦 Warenkorb-Overlay -->
  <div id="cart-overlay" style="display: none;">
    <h4>Sepetiniz</h4>
    <ul id="cart-items"></ul>
    <p><strong>Toplam:</strong> <span id="cart-total">0</span> TL</p>
    <a href="checkout.html">Ödeme Sayfası</a>
  </div>
  <!-- Fußzeile mit Copyright -->   
  <footer style="text-align: center; padding: 20px; background-color: #4a5534; color: white;">
    <p>© 2025 Kuleyzen Aile Çiftliği – Tüm hakları saklıdır.</p>
    <p>Son güncelleme: <span id="last-updated">yükleniyor...</span></p>
  </footer>
  
  
  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://kuleyzen.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  
  <!-- JavaScript letztes update github -->
  <script>
    fetch("https://api.github.com/repos/kuleyzen/test.test.test/commits/main")
      .then(res => {
        if (!res.ok) throw new Error("Veri alınamadı");
        return res.json();
      })
      .then(data => {
        const date = new Date(data.commit.author.date);
        const formatted = date.toLocaleString("tr-TR", {
          dateStyle: "short",
          timeStyle: "short"
        });
        document.getElementById("last-updated").textContent = formatted;
      })
      .catch(err => {
        console.error("Son güncelleme alınamadı:", err);
        document.getElementById("last-updated").textContent = "bilgi alınamadı";
      });
  </script>
  <!-- 📜 Bottom-Navigation Logik -->
  <script>
    function goTo(url) {
      window.location.href = url;
    }
  
    function toggleMenu() {
      const menu = document.getElementById("mobileKacheln");
      const submenu = document.getElementById("subKacheln");
      if (menu.style.display === "block") {
        menu.style.display = "none";
        submenu.style.display = "none";
      } else {
        menu.style.display = "block";
      }
    }
  
    function toggleSubKacheln(event) {
      event.preventDefault();
      const sub = document.getElementById("subKacheln");
      sub.style.display = sub.style.display === "block" ? "none" : "block";
    }
  </script>
  

  <!-- 🧠 Kuleyzen Checkout-Logik (Mengenänderung + WhatsApp + Reset) -->
<script>
    // 🧺 1. Warenkorb laden (oder leeren Korb starten)
    let cart = JSON.parse(localStorage.getItem("kuleyzen_cart")) || [];
  
    // 🔄 2. Checkout-Tabelle im <main> anzeigen
    function renderCheckout() {
      const tbody = document.getElementById("checkout-items");
      const totalEl = document.getElementById("checkout-total");
      let total = 0;
      tbody.innerHTML = "";
  
      cart.forEach(item => {
        const itemTotal = item.price * item.qty;
        total += itemTotal;
  
        const row = document.createElement("tr");
        const nameTd = document.createElement("td");
nameTd.textContent = item.name;

const qtyTd = document.createElement("td");
const minusBtn = document.createElement("button");
minusBtn.textContent = "➖";
minusBtn.onclick = () => changeQty(item.name, -1);

const qtyText = document.createTextNode(` ${item.qty} `);

const plusBtn = document.createElement("button");
plusBtn.textContent = "➕";
plusBtn.onclick = () => changeQty(item.name, 1);

qtyTd.appendChild(minusBtn);
qtyTd.appendChild(qtyText);
qtyTd.appendChild(plusBtn);

const priceTd = document.createElement("td");
priceTd.textContent = `${item.price} TL`;

const totalTd = document.createElement("td");
totalTd.textContent = `${itemTotal} TL`;
const deleteBtn = document.createElement("button");
deleteBtn.textContent = "🗑️";
deleteBtn.title = "Ürünü sil";
deleteBtn.onclick = () => removeItem(item.name);
totalTd.appendChild(deleteBtn);

row.appendChild(nameTd);
row.appendChild(qtyTd);
row.appendChild(priceTd);
row.appendChild(totalTd);
        tbody.appendChild(row);
      });
  
      totalEl.textContent = total;
      updateCartDisplay(); // synchronisiere Mini-Overlay
    }
  
    // ➕➖ 3. Menge anpassen
    function changeQty(name, delta) {
      const item = cart.find(p => p.name === name);
      if (!item) return;
  
      item.qty += delta;
      if (item.qty <= 0) {
        cart = cart.filter(p => p.name !== name);
      }
  
      saveCart();
      renderCheckout();
    }
  
    // ❌ 4. Einzelnes Produkt löschen
    function removeItem(name) {
      cart = cart.filter(p => p.name !== name);
      saveCart();
      renderCheckout();
    }
  
    // 💾 5. Warenkorb speichern & Overlay aktualisieren
    function saveCart() {
      localStorage.setItem("kuleyzen_cart", JSON.stringify(cart));
      updateCartDisplay();
    }
  
    // 🟩 6. Mini-Warenkorb-Overlay aktualisieren
    function updateCartDisplay() {
      const count = cart.reduce((sum, item) => sum + item.qty, 0);
      const total = cart.reduce((sum, item) => sum + item.qty * item.price, 0);
  
      const countEl = document.getElementById("cart-count");
      const countMobile = document.getElementById("cart-count-mobile");
      const totalEl = document.getElementById("cart-total");
      const listEl = document.getElementById("cart-items");
  
      if (countEl) countEl.textContent = count;
      if (countMobile) countMobile.textContent = count;
      if (totalEl) totalEl.textContent = total;
  
      if (listEl) {
        listEl.innerHTML = "";
        cart.forEach(item => {
          const li = document.createElement("li");
          li.textContent = `${item.name} x${item.qty} – ${item.price * item.qty} TL`;
          listEl.appendChild(li);
        });
      }
    }
  
   // 🧺 Warenkorb ein- und ausblenden
function toggleCart() {
  const overlay = document.getElementById("cart-overlay");
  if (overlay.style.display === "none" || overlay.style.display === "") {
    overlay.style.display = "block"; // Zeige das Overlay an
  } else {
    overlay.style.display = "none"; // Verstecke das Overlay
  }
}

  // 📦 Seite geladen → Warenkorb-Anzeige aktualisieren
  document.addEventListener("DOMContentLoaded", updateCartDisplay);

  
    // ✅ 8. Bestellung via WhatsApp senden und Warenkorb leeren
    function submitOrder(event) {
      event.preventDefault();
  
      const name = document.getElementById("name").value;
      //"const phone = document.getElementById("phone").value;   (momentan inaktiv wird später entfernt!!!)//
      const note = document.getElementById("note").value;
  
      let message = `📦 Yeni Sipariş / Kuleyzen\n\n🛍️ Ürünler:\n`;
      cart.forEach(item => {
        message += `• ${item.name} x${item.qty} → ${item.price * item.qty} TL\n`;
      });
  
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      message += `\n💰 Toplam: ${total} TL\n\n`;
      message += `👤 Ad: ${name}`;
      if (note) message += `\n📝 Not: ${note}`;
  
      const url = `https://wa.me/905362419158?text=${encodeURIComponent(message)}`;
  
      // 🧹 Nach Versand: LocalStorage leeren und Seite zurücksetzen
      localStorage.removeItem("kuleyzen_cart");
      cart = [];
      renderCheckout();
  
      window.open(url, "_blank");
    }
  
    // ⏳ 9. Initialisierung nach Seitenladezeitpunkt
    document.addEventListener("DOMContentLoaded", renderCheckout);
  </script>
</body>
</html>
